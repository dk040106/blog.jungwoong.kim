---
layout: article
title: BOJ 1006 습격자 초라기
tags:
  - BOJ
  - Algorithm
  - 한글
key: boj-1006
---

# Intro

습격자 초라기 ([BOJ 1006](https://www.acmicpc.net/problem/1006)) 문제는 여타 비슷한 `2xn`배열에 대한 Dynamic Programming으로 접근하는 것이 정석적이다. 문제 번호도 1000번대 초반이다보니 문제가 워낙 유명해서 여러 블로그에 해설이 되어있는데, 사소한 부분을 제외하면 접근법부터 DP 점화식까지 같은 방법으로 해결한다. 이러한 방법은 환형 배열의 특징상 코너 케이스를 고려해주어야 하는 필자는 그러한 방식에 비해 보다 직관적인 풀이를 제시하고자 한다.

# Problem Definition

> 초라기는 각각 W명으로 구성된 특수소대를 다수 출동시켜 모든 구역에 침투시킬 예정이며, 각 구역 별로 적이 몇 명씩 배치되어 있는지는 초라기가 모두 알고 있다. 특수소대를 아래 조건에 따라 침투 시킬 수 있다.
> 
> 1. 한 특수소대는 침투한 구역 외에, 인접한 한 구역 더 침투할 수 있다. (같은 경계를 공유하고 있으면 인접 하다고 한다. 위 그림에서 1구역은 2, 8, 9 구역과 서로 인접한 상태다.) 즉, 한 특수소대는 한 개 혹은 두 개의 구역을 커버할 수 있다.
> 2. 특수소대끼리는 아군인지 적인지 구분을 못 하기 때문에, 각 구역은 하나의 소대로만 커버해야 한다.
> 3. 한 특수소대가 커버하는 구역의 적들의 합은 특수소대원 수 W 보다 작거나 같아야 한다.
> 
> 이때 초라기는 원타곤의 모든 구역을 커버하기 위해 침투 시켜야 할 특수 소대의 최소 개수를 알고 싶어 한다.

각 구역을 node로 생각하자. 인접한 구역 쌍을 하나의 소대가 커버할 수 있으면 대응되는 node 쌍을 연결한다. 특수 소대가 2개 구역을 커버하는 상황을 인접한 node 2개를 짝짓는 것으로 표현한다면, 전체 특수 소대가 적어지는 것은 더 많은 node들이 짝지어지는 상황과 동일하다.

각 구역에 대해 인접한 구역은 3개이므로 ($$N = 1$$인 경우 제외) 본 문제는 "degree가 3 이하인 그래프에서 인접한 node 2개씩을 겹치지 않도록 짝짓는 최대 경우의 수"를 계산하는 문제로 치환할 수 있다. 

# Problem Solving

그렇다면 어떻게 짝짓는 것이 최선의 방법일까? $$V=1, 2, 3$$에서는 자명한 문제이지만, V가 커지면 생각하기 어렵게 된다. 임의의 그래프 하나가 존재하는 상황을 고려해보자. 여러 상황을 관찰하면서 그 규칙성을 찾아보자. 

> Figure

> Figure

이러한 관찰 결과를 통해, 필자는 **degree가 작은 node부터 짝을 지으면 최대 개수로 짝지을 수 있다** 라는 결론을 내리게 되었다. 

그렇다면 degree가 작은 node를 선택하는 것만으로 문제를 해결할 수 있을까? 관찰 결과 짝을 만들기 위한 인접 node를 선택하는 조건이 있다는 것을 알게 되었다. 다음 상황을 보자. 

> Figure

이를 통해 degree가 제일 작은 node를 선택하고, 인접한 node중 제일 작은 degree를 가지는 node와 짝을 지어주면 최대한 많은 짝을 만들 수 있게 된다. 

> Disclaimer
> 
> 위에서 제시한 설명은 오직 관찰에 기반하며 수학적 증명을 제공하지는 않습니다. 혹시 위 명제를 증명할 수 있다면 제게 연락 부탁드립니다. 

# Implementation

증명을 완료하였으니 효율적인 구현을 진행해야 한다. 제일 작은 degree를 가지는 node를 기준으로 알고리즘이 진행되기 때문에, 동적으로 변하는 그래프에서 degree기준으로 node를 선택하기 위한 방법으로 Heap (cpp에서 `priority_queue`)을 사용하였다. 알고리즘은 다음과 같다. 


# Conclusion


